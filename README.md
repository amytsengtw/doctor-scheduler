# 🏥 婦產科雙軌排班系統 (v3.3 公平優先版)

本系統採用 **單一最佳解 (Single Best Solution)** 策略，核心目標是在滿足所有「絕對有解」的前提下，最大化班表的公平性。

## ✨ 核心演算法邏輯

### 1. ⚖️ 公平性優先 (Fairness First)
系統不再只是填滿班表，而是會主動計算每位醫師的 Loading。
*   **平日班公平**：盡量讓大家的平日班數一致。
*   **假日班公平**：盡量讓大家的假日班數一致。
*   **權重設定**：公平性的權重遠高於醫師的個人意願，確保不會因為某人不想值班而導致其他人過勞。

### 2. 🛡️ 絕對有解 (Always Feasible)
系統允許打破規則來換取班表產出，但會給予懲罰並記錄在報告中。
*   **優先順序**：
    1.  每日必須有人值班 (物理限制)。
    2.  公平性 (大家 Loading 平均)。
    3.  VS 不值班 / R 不值班 / Intern 上限 (盡量遵守)。
    4.  醫師想值班 (行有餘力才滿足)。

### 3. 🎨 視覺化與統計
*   **統計儀表板**：排班後立即顯示 平日/假日 班數統計，公平與否一目了然。
*   **個人色彩**：日曆採用姓名對應的柔和色系，方便閱讀。

## 🔴 大班規則 (VS & R)
*   **VS 指定班**：最高指令，必定排入。
*   **R 填空**：R 負責填補剩下的空缺，且系統會盡量讓每位 R 的班數平均。
*   **VS 支援**：若 R 的人力真的不足，VS 才會被排入非指定班 (會顯示在犧牲報告中)。

## 🔵 小班規則 (PGY & Intern)
*   **Intern/PGY 混合池**：系統會盡量讓所有人的平日/假日班數接近。
*   **限制突破**：雖然有「週限2/月平日6/月假日2」的規則，但為了公平或填補空缺，系統允許突破這些限制 (會顯示在犧牲報告中)。

## 📂 JSON 存取
支援設定檔下載與上傳，方便複製貼上與重複使用。

## 🚀 使用說明
1.  輸入人員名單。
2.  設定 VS/R/PGY/Int 的 **指定值班 (Wishes)** 與 **不想值班 (No-Go)**。
3.  點擊 **「🚀 開始排班」**。
4.  檢查 **班表統計** 表格，確認每人的 Total/平日/假日 班數是否平均。
